-- ============================================================
-- 고정 수입/지출 및 구독 서비스 데이터 입력
-- User ID: a57b679f-c4b8-402c-b14c-26ce86b365e3
-- 생성일: 2026-02-02
-- 기준: 2024.11.12 급여명세서
-- ============================================================

-- ============================================================
-- 1. 고정 수입 (Income)
-- ============================================================

INSERT INTO public.recurring_items (user_id, type, category, amount, title, description, frequency, start_date, next_date, is_active) VALUES
-- 급여 (실지급)
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'income', 'salary', 3644089, '월급 (실지급)', '기본급 4,320,250 + 보육수당 200,000 - 세금/공제 876,161', 'monthly', '2024-11-12', '2026-02-12', true),
-- 어머니 지원금
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'income', 'support', 2000000, '어머니 지원금', '월 생활비 지원', 'monthly', '2024-11-01', '2026-02-01', true);

-- ============================================================
-- 2. 고정 지출 - 투자
-- ============================================================

INSERT INTO public.recurring_items (user_id, type, category, amount, title, description, frequency, start_date, next_date, is_active) VALUES
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'investment', 100000, 'ISA 계좌', '절세계좌 투자', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'investment', 100000, '연금저축', '연금저축 ETF', 'monthly', '2024-11-01', '2026-02-01', true);

-- ============================================================
-- 3. 고정 지출 - 생활비
-- ============================================================

INSERT INTO public.recurring_items (user_id, type, category, amount, title, description, frequency, start_date, next_date, is_active) VALUES
-- 필수 고정비
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'housing', 230000, '관리비', '아파트 관리비', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'telecom', 150000, '통신비 (본인)', '핸드폰 요금', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'transport', 130000, '교통비 (본인)', '출퇴근 교통비', 'monthly', '2024-11-01', '2026-02-01', true),

-- 변동성 있지만 고정 예산으로 관리
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'food', 100000, '편의점', '간식/음료', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'food', 100000, '배달', '배달음식', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'health', 35000, '병원', '정기 진료/약', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'personal', 50000, '용돈', '개인 용돈', 'monthly', '2024-11-01', '2026-02-01', true);

-- ============================================================
-- 4. 고정 지출 - 상환/이체
-- ============================================================

INSERT INTO public.recurring_items (user_id, type, category, amount, title, description, frequency, start_date, next_date, is_active) VALUES
-- 부채 이자 상환 (부채 테이블과 연동)
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'debt_payment', 300000, '상환금1 (이모)', '이모 대출 월 이자', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'debt_payment', 500000, '상환금2 (어머니)', '어머니 대출 월 이자', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'debt_payment', 2100000, '대출 (은행)', '주택담보대출 원리금', 'monthly', '2024-11-01', '2026-02-01', true),

-- 생활비 이체 (아내에게)
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'family', 1700000, '생활비 (지영)', '아내 생활비 이체', 'monthly', '2024-11-01', '2026-02-01', true);

-- ============================================================
-- 5. 구독 서비스
-- ============================================================

INSERT INTO public.subscriptions (user_id, name, category, amount, billing_cycle, billing_day, is_active, notes) VALUES
('a57b679f-c4b8-402c-b14c-26ce86b365e3', '넷플릭스', '영상', 17000, 'monthly', 1, true, '스트리밍 서비스'),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', '쿠팡 로켓와우', '쇼핑', 7500, 'monthly', 1, true, '무료배송/로켓배송'),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', '구글 드라이브', '클라우드', 11900, 'monthly', 1, true, 'Google One 100GB'),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'ChatGPT Plus', 'AI', 7500, 'monthly', 1, true, 'GPT-4 사용'),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', '유튜브 프리미엄', '영상', 14900, 'monthly', 1, true, '광고 없는 유튜브');

-- ============================================================
-- 완료!
-- ============================================================
--
-- 고정 수입 요약:
--   월급 실지급: 3,644,089원
--   어머니 지원금: 2,000,000원
--   총 수입: 5,644,089원
--
-- 고정 지출 요약:
--   투자: 200,000원 (ISA 10만 + 연금저축 10만)
--   생활비: 795,000원 (관리비 23만 + 통신비 15만 + 교통비 13만 + 편의점 10만 + 배달 10만 + 병원 3.5만 + 용돈 5만)
--   구독: 58,800원 (넷플릭스 + 쿠팡 + 구글 + GPT + 유튜브)
--   상환/이체: 4,600,000원 (이모 30만 + 어머니 50만 + 은행 210만 + 생활비 170만)
--
--   총 고정 지출: 5,653,800원
--   수입 - 지출 = 5,644,089 - 5,653,800 = -9,711원 (거의 균형)
--
-- ※ 참고: 생활비 1,700,000원은 아내에게 이체하는 금액으로,
--          실제 가구 지출은 아내 쪽에서 관리
--
-- 실행 방법: Supabase SQL Editor에서 실행
-- ============================================================
