-- ============================================================
-- 지영(아내) 세부 지출 데이터
-- User ID: a57b679f-c4b8-402c-b14c-26ce86b365e3
-- 생성일: 2026-02-02
-- 기준: 생활비 1,700,000원 세부 내역
-- ============================================================

-- ============================================================
-- 1. 기존 "생활비 (지영)" 항목 삭제 후 세부 항목으로 대체
-- ============================================================
DELETE FROM public.recurring_items
WHERE user_id = 'a57b679f-c4b8-402c-b14c-26ce86b365e3'
AND title = '생활비 (지영)';

-- ============================================================
-- 2. 지영 세부 지출 항목 추가
-- ============================================================

INSERT INTO public.recurring_items (user_id, type, category, amount, title, description, frequency, start_date, next_date, is_active) VALUES

-- 식비/생활
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'food', 1040000, '식비/생활 (지영)', '가족 식비 및 생활용품', 'monthly', '2024-11-01', '2026-02-01', true),

-- 문화/여가
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'culture', 100000, '문화비 (지영)', '문화/여가 활동', 'monthly', '2024-11-01', '2026-02-01', true),

-- 교통
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'transport', 30000, '교통비 (지영)', '지영 교통비', 'monthly', '2024-11-01', '2026-02-01', true),

-- 비상금
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'savings', 50000, '비상금 (지영)', '월 비상금 적립', 'monthly', '2024-11-01', '2026-02-01', true),

-- 건강/의료
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'health', 22140, '건강보험료 (지영)', '지역 건강보험료', 'monthly', '2024-11-01', '2026-02-01', true),

-- 통신
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'telecom', 113120, '통신비 (지영)', '핸드폰 요금', 'monthly', '2024-11-01', '2026-02-01', true),

-- 대출 이자 (장인어른)
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'debt_payment', 149670, '대출이자 (장인어른)', '장인어른 대출 월 이자', 'monthly', '2024-11-01', '2026-02-01', true),

-- 할부/기기값
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'etc', 20797, '기기값', '핸드폰/기기 할부', 'monthly', '2024-11-01', '2026-02-01', true),

-- 보험
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'insurance', 108430, '신생아 보험', '세현이 보험', 'monthly', '2024-11-01', '2026-02-01', true),
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'insurance', 103272, '지영 보험', '지영 보험료', 'monthly', '2024-11-01', '2026-02-01', true),

-- 세금
('a57b679f-c4b8-402c-b14c-26ce86b365e3', 'expense', 'tax', 2300, '주민세 (지영)', '주민세', 'monthly', '2024-11-01', '2026-02-01', true);

-- ============================================================
-- 3. 장인어른 대출 (부채 테이블에 추가)
-- ============================================================
-- 대출 원금이 얼마인지 모르므로 월 이자 14.9만원 기준으로 추정
-- (연 6% 가정 시 약 3,000만원 추정)

INSERT INTO public.debts (user_id, name, creditor, debt_type, total_amount, remaining_amount, paid_amount, interest_rate, monthly_payment, description)
VALUES (
    'a57b679f-c4b8-402c-b14c-26ce86b365e3',
    '장인어른 대출',
    '장인어른',
    'family_loan',
    30000000,      -- 추정 원금 3천만원
    30000000,
    0,
    6.0,           -- 추정 이자율 6%
    149670,        -- 월 이자
    '[지영] 장인어른께 빌린 대출, 월 이자 약 15만원'
)
ON CONFLICT DO NOTHING;  -- 이미 있으면 무시

-- ============================================================
-- 완료!
-- ============================================================
--
-- 지영 세부 지출 요약:
--   식비/생활:     1,040,000원
--   문화비:          100,000원
--   교통비:           30,000원
--   비상금:           50,000원
--   건강보험료:       22,140원
--   통신비:          113,120원
--   대출(장인):      149,670원
--   기기값:           20,797원
--   신생아 보험:     108,430원
--   지영 보험:       103,272원
--   주민세:            2,300원
--   ──────────────────────────
--   합계:          1,739,729원 (약 170만원)
--
-- 실행 방법: Supabase SQL Editor에서 실행
-- ============================================================
